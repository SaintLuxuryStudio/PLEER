<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">
    <title>Vinyl Player - Liquid Glass</title>
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='45' fill='%231a1a1a'/><circle cx='50' cy='50' r='20' fill='%23ff6b35'/><circle cx='50' cy='50' r='5' fill='%231a1a1a'/></svg>">
    <link rel="stylesheet" href="styles.css?v=2.0">
    <!-- jsmediatags for metadata extraction -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsmediatags/3.9.5/jsmediatags.min.js"></script>
</head>
<body>
    <!-- Background -->
    <div class="background-gradient"></div>

    <!-- Library View -->
    <div id="library" class="library-container">
        <nav class="navbar-glass">
            <h1 class="logo">üéµ Vinyl Player</h1>
        </nav>

        <div class="library-grid">
            <!-- Sample tracks - replace with your music -->
            <div class="vinyl-card glass" data-track="0">
                <div class="vinyl-disc">
                    <div class="vinyl-center"></div>
                    <div class="vinyl-grooves"></div>
                </div>
                <div class="track-info">
                    <h3 class="track-title">Track 1</h3>
                    <p class="track-artist">Artist Name</p>
                </div>
            </div>

            <div class="vinyl-card glass" data-track="1">
                <div class="vinyl-disc">
                    <div class="vinyl-center"></div>
                    <div class="vinyl-grooves"></div>
                </div>
                <div class="track-info">
                    <h3 class="track-title">Track 2</h3>
                    <p class="track-artist">Artist Name</p>
                </div>
            </div>

            <div class="vinyl-card glass" data-track="2">
                <div class="vinyl-disc">
                    <div class="vinyl-center"></div>
                    <div class="vinyl-grooves"></div>
                </div>
                <div class="track-info">
                    <h3 class="track-title">Track 3</h3>
                    <p class="track-artist">Artist Name</p>
                </div>
            </div>

            <div class="vinyl-card glass" data-track="3">
                <div class="vinyl-disc">
                    <div class="vinyl-center"></div>
                    <div class="vinyl-grooves"></div>
                </div>
                <div class="track-info">
                    <h3 class="track-title">Track 4</h3>
                    <p class="track-artist">Artist Name</p>
                </div>
            </div>
        </div>

        <!-- Add Track Button -->
        <div class="add-track-container">
            <label for="fileInput" class="btn-glass btn-add">
                <span>+ –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ–∫</span>
            </label>
            <input type="file" id="fileInput" accept=".mp3,.wav,.flac,.m4a,.aac,.ogg,.opus" multiple hidden>
        </div>

        <!-- Mini Player -->
        <div id="miniPlayer" class="mini-player hidden">
            <div class="mini-player-info">
                <div class="mini-player-cover" id="miniPlayerCover"></div>
                <div class="mini-player-text">
                    <h4 id="miniPlayerTitle">Track Title</h4>
                    <p id="miniPlayerArtist">Artist Name</p>
                </div>
            </div>
            <div class="mini-player-controls">
                <button class="btn-mini" id="miniPrevBtn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/>
                    </svg>
                </button>
                <button class="btn-mini btn-mini-play" id="miniPlayBtn">
                    <svg id="miniPlayIcon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M8 5v14l11-7z"/>
                    </svg>
                    <svg id="miniPauseIcon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="hidden">
                        <path d="M6 4h4v16H6zM14 4h4v16h-4z"/>
                    </svg>
                </button>
                <button class="btn-mini" id="miniNextBtn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M16 18h2V6h-2zm-11-7l8.5-6v12z"/>
                    </svg>
                </button>
                <button class="btn-mini" id="miniOpenPlayerBtn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 15l-6-6-6 6"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Player View -->
    <div id="player" class="player-container hidden">
        <!-- Back Button -->
        <button class="btn-back glass" id="backBtn">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
        </button>

        <!-- Vinyl Player -->
        <div class="vinyl-player">
            <div class="vinyl-wrapper">
                <canvas id="vinylCanvas" width="400" height="400"></canvas>
                <div class="tonearm" id="tonearm"></div>
            </div>

            <div class="track-display glass">
                <h2 id="playerTrackTitle">Track Title</h2>
                <p id="playerTrackArtist">Artist Name</p>
            </div>
        </div>

        <!-- Time Display -->
        <div class="time-display glass">
            <span id="currentTime">0:00</span>
            <span id="totalTime">0:00</span>
        </div>

        <!-- Controls -->
        <div class="controls-panel glass">
            <!-- Playback Controls -->
            <div class="playback-controls">
                <button class="btn-glass btn-control" id="prevBtn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/>
                    </svg>
                </button>

                <button class="btn-glass btn-control btn-play" id="playBtn">
                    <svg id="playIcon" width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M8 5v14l11-7z"/>
                    </svg>
                    <svg id="pauseIcon" width="32" height="32" viewBox="0 0 24 24" fill="currentColor" class="hidden">
                        <path d="M6 4h4v16H6zM14 4h4v16h-4z"/>
                    </svg>
                </button>

                <button class="btn-glass btn-control" id="nextBtn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M16 18h2V6h-2zm-11-7l8.5-6v12z"/>
                    </svg>
                </button>
            </div>

            <!-- Speed Control -->
            <div class="control-group">
                <label class="control-label">–°–∫–æ—Ä–æ—Å—Ç—å</label>
                <div class="slider-container">
                    <span class="slider-value">0.5x</span>
                    <input type="range" id="speedControl" min="0.5" max="2" step="0.1" value="1" class="slider">
                    <span class="slider-value">2x</span>
                </div>
                <span class="current-value" id="speedValue">1.0x</span>
            </div>

            <!-- Pitch Control -->
            <div class="control-group">
                <label class="control-label">Pitch</label>
                <div class="slider-container">
                    <span class="slider-value">-12</span>
                    <input type="range" id="pitchControl" min="-12" max="12" step="1" value="0" class="slider">
                    <span class="slider-value">+12</span>
                </div>
                <span class="current-value" id="pitchValue">0</span>
            </div>

            <!-- Reset Button -->
            <button class="btn-glass btn-reset" id="resetBtn">–°–±—Ä–æ—Å–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç—ã</button>
        </div>
    </div>

    <!-- Hidden Audio Element -->
    <audio id="audioPlayer"></audio>

    <script src="script.js?v=2.0"></script>
</body>
</html>
